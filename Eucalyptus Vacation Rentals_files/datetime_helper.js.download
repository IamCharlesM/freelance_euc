
var time_map = {
    "00:00":"12:00 AM"
    ,"00:30":"12:30 AM"
    ,"00:00":"12:00 AM"
    ,"00:30":"12:30 AM"
    ,"01:00":"1:00 AM"
    ,"01:30":"1:30 AM"
    ,"02:00":"2:00 AM"
    ,"02:30":"2:30 AM"
    ,"03:00":"3:00 AM"
    ,"03:30":"3:30 AM"
    ,"04:00":"4:00 AM"
    ,"04:30":"4:30 AM"
    ,"05:00":"5:00 AM"
    ,"05:30":"5:30 AM"
    ,"06:00":"6:00 AM"
    ,"06:30":"6:30 AM"
    ,"07:00":"7:00 AM"
    ,"07:30":"7:30 AM"
    ,"08:00":"8:00 AM"
    ,"08:30":"8:30 AM"
    ,"09:00":"9:00 AM"
    ,"09:30":"9:30 AM"
    ,"10:00":"10:00 AM"
    ,"10:30":"10:30 AM"
    ,"11:00":"11:00 AM"
    ,"11:30":"11:30 AM"
    ,"12:00":"12:00 PM"
    ,"12:30":"12:30 PM"
    ,"13:00":"1:00 PM"
    ,"13:30":"1:30 PM"
    ,"14:00":"2:00 PM"
    ,"14:30":"2:30 PM"
    ,"15:00":"3:00 PM"
    ,"15:30":"3:30 PM"
    ,"16:00":"4:00 PM"
    ,"16:30":"4:30 PM"
    ,"17:00":"5:00 PM"
    ,"17:30":"5:30 PM"
    ,"18:00":"6:00 PM"
    ,"18:30":"6:30 PM"
    ,"19:00":"7:00 PM"
    ,"19:30":"7:30 PM"
    ,"20:00":"8:00 PM"
    ,"20:30":"8:30 PM"
    ,"21:00":"9:00 PM"
    ,"21:30":"9:30 PM"
    ,"22:00":"10:00 PM"
    ,"22:30":"10:30 PM"
    ,"23:00":"11:00 PM"
    ,"23:30":"11:30 PM"
}

function getAMPM(p_time_key) {
    return time_map[p_time_key];
}

var timezone_map = {
    "(GMT-12:00)":"(GMT-12:00) International Date Line West"
    ,"(GMT-11:00)":"(GMT-11:00) Midway Island, Samoa"
    ,"(GMT-10:00)":"(GMT-10:00) Hawaii"
    ,"(GMT-09:00)":"(GMT-09:00) Alaska"
    ,"(GMT-08:00)":"(GMT-08:00) Pacific Time (US &amp; Canada)"
    ,"(GMT-08:00)":"(GMT-08:00) Tijuana, Baja California"
    ,"(GMT-07:00)":"(GMT-07:00) Arizona"
    ,"(GMT-07:00)":"(GMT-07:00) Chihuahua, La Paz, Mazatlan"
    ,"(GMT-07:00)":"(GMT-07:00) Mountain Time (US &amp; Canada)"
    ,"(GMT-06:00)":"(GMT-06:00) Central America"
    ,"(GMT-06:00)":"(GMT-06:00) Central Time (US &amp; Canada)"
    ,"(GMT-06:00)":"(GMT-06:00) Guadalajara, Mexico City, Monterrey"
    ,"(GMT-06:00)":"(GMT-06:00) Saskatchewan"
    ,"(GMT-05:00)":"(GMT-05:00) Bogota, Lima, Quito, Rio Branco"
    ,"(GMT-05:00)":"(GMT-05:00) Eastern Time (US &amp; Canada)"
    ,"(GMT-05:00)":"(GMT-05:00) Indiana (East)"
    ,"(GMT-04:00)":"(GMT-04:00) Atlantic Time (Canada)"
    ,"(GMT-04:00)":"(GMT-04:00) Caracas, La Paz"
    ,"(GMT-04:00)":"(GMT-04:00) Manaus"
    ,"(GMT-04:00)":"(GMT-04:00) Santiago"
    ,"(GMT-03:30)":"(GMT-03:30) Newfoundland"
    ,"(GMT-03:00)":"(GMT-03:00) Brasilia"
    ,"(GMT-03:00)":"(GMT-03:00) Buenos Aires, Georgetown"
    ,"(GMT-03:00)":"(GMT-03:00) Greenland"
    ,"(GMT-03:00)":"(GMT-03:00) Montevideo"
    ,"(GMT-02:00)":"(GMT-02:00) Mid-Atlantic"
    ,"(GMT-01:00)":"(GMT-01:00) Cape Verde Is."
    ,"(GMT-01:00)":"(GMT-01:00) Azores"
    ,"(GMT+00:00)":"(GMT+00:00) Casablanca, Monrovia, Reykjavik"
    ,"(GMT+00:00)":"(GMT+00:00) Greenwich Mean Time : Dublin, Edinburgh, Lisbon, London"
    ,"(GMT+01:00)":"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"
    ,"(GMT+01:00)":"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague"
    ,"(GMT+01:00)":"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris"
    ,"(GMT+01:00)":"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb"
    ,"(GMT+01:00)":"(GMT+01:00) West Central Africa"
    ,"(GMT+02:00)":"(GMT+02:00) Amman"
    ,"(GMT+02:00)":"(GMT+02:00) Athens, Bucharest, Istanbul"
    ,"(GMT+02:00)":"(GMT+02:00) Beirut"
    ,"(GMT+02:00)":"(GMT+02:00) Cairo"
    ,"(GMT+02:00)":"(GMT+02:00) Harare, Pretoria"
    ,"(GMT+02:00)":"(GMT+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"
    ,"(GMT+02:00)":"(GMT+02:00) Jerusalem"
    ,"(GMT+02:00)":"(GMT+02:00) Minsk"
    ,"(GMT+02:00)":"(GMT+02:00) Windhoek"
    ,"(GMT+03:00)":"(GMT+03:00) Kuwait, Riyadh, Baghdad"
    ,"(GMT+03:00)":"(GMT+03:00) Moscow, St. Petersburg, Volgograd"
    ,"(GMT+03:00)":"(GMT+03:00) Nairobi"
    ,"(GMT+03:00)":"(GMT+03:00) Tbilisi"
    ,"(GMT+03:30)":"(GMT+03:30) Tehran"
    ,"(GMT+04:00)":"(GMT+04:00) Abu Dhabi, Muscat"
    ,"(GMT+04:00)":"(GMT+04:00) Baku"
    ,"(GMT+04:00)":"(GMT+04:00) Yerevan"
    ,"(GMT+04:30)":"(GMT+04:30) Kabul"
    ,"(GMT+05:00)":"(GMT+05:00) Yekaterinburg"
    ,"(GMT+05:00)":"(GMT+05:00) Islamabad, Karachi, Tashkent"
    ,"(GMT+05:30)":"(GMT+05:30) Sri Jayawardenapura"
    ,"(GMT+05:30)":"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi"
    ,"(GMT+05:45)":"(GMT+05:45) Kathmandu"
    ,"(GMT+06:00)":"(GMT+06:00) Almaty, Novosibirsk"
    ,"(GMT+06:00)":"(GMT+06:00) Astana, Dhaka"
    ,"(GMT+06:30)":"(GMT+06:30) Yangon (Rangoon)"
    ,"(GMT+07:00)":"(GMT+07:00) Bangkok, Hanoi, Jakarta"
    ,"(GMT+07:00)":"(GMT+07:00) Krasnoyarsk"
    ,"(GMT+08:00)":"(GMT+08:00) Beijing, Chongqing, Hong Kong, Urumqi"
    ,"(GMT+08:00)":"(GMT+08:00) Kuala Lumpur, Singapore"
    ,"(GMT+08:00)":"(GMT+08:00) Irkutsk, Ulaan Bataar"
    ,"(GMT+08:00)":"(GMT+08:00) Perth"
    ,"(GMT+08:00)":"(GMT+08:00) Taipei"
    ,"(GMT+09:00)":"(GMT+09:00) Osaka, Sapporo, Tokyo"
    ,"(GMT+09:00)":"(GMT+09:00) Seoul"
    ,"(GMT+09:00)":"(GMT+09:00) Yakutsk"
    ,"(GMT+09:30)":"(GMT+09:30) Adelaide"
    ,"(GMT+09:30)":"(GMT+09:30) Darwin"
    ,"(GMT+10:00)":"(GMT+10:00) Brisbane"
    ,"(GMT+10:00)":"(GMT+10:00) Canberra, Melbourne, Sydney"
    ,"(GMT+10:00)":"(GMT+10:00) Hobart"
    ,"(GMT+10:00)":"(GMT+10:00) Guam, Port Moresby"
    ,"(GMT+10:00)":"(GMT+10:00) Vladivostok"
    ,"(GMT+11:00)":"(GMT+11:00) Magadan, Solomon Is., New Caledonia"
    ,"(GMT+12:00)":"(GMT+12:00) Auckland, Wellington"
    ,"(GMT+12:00)":"(GMT+12:00) Fiji, Kamchatka, Marshall Is."
    ,"(GMT+13:00)":"(GMT+13:00) Nuku'alofa"
}

function getTimezone(p_timezone_key) {
    return timezone_map[p_timezone_key];
}

/*
function convertToUserLocalTime(p_hours_minutes, p_timezone) {
    if (p_hours_minutes == undefined || p_hours_minutes == "") return "";
    if (p_timezone == undefined || p_timezone == "") return "";

    // convert to user browser's local time
    var temp_date = moment().format("YYYY-MM-DD");
    var tmep_T = 'T';
    var temp_time = p_hours_minutes + ":00";
    var final_time = temp_date + tmep_T + temp_time + p_timezone
    var localtime_str = moment(final_time).format();
    localtime_str = localtime_str.split("T")[1];
    localtime_str = localtime_str.split("-")[0];
    localtime_str = localtime_str.split(":")[0] + ":" + localtime_str.split(":")[1];

    return getAMPM(localtime_str);
}

function convertToAnotherTimezoneLocalTime(p_local_hours_minutes, p_target_timezone_in_minutes) {
    if (p_local_hours_minutes == undefined || p_local_hours_minutes == "") return "";
    if (p_target_timezone_in_minutes == undefined || p_target_timezone_in_minutes == "") return "";

    var temp_date = moment().format("YYYY-MM-DD");
    var temp_time = p_local_hours_minutes + ":00";
    var temp_final_local_time = temp_date + " " + temp_time;

    var target_timezone_localtime = moment.utc(moment(temp_final_local_time)).utcOffset(p_target_timezone_in_minutes).format("YYYY-MM-DD HH:mm");
    target_timezone_localtime = target_timezone_localtime.split(" ")[1];

    return getAMPM(target_timezone_localtime);
}
*/

function getSecondLocationFromTimezoneName(p_timezone_name) {
    if (p_timezone_name == undefined || p_timezone_name == "") return "";

    var temp_second_location = p_timezone_name;
    temp_second_location = temp_second_location.split("/")[(temp_second_location.split("/")).length - 1];
    temp_second_location = temp_second_location.replace(/_/g, " ");

    return temp_second_location
}

// e.g: p_source_hours = "09:30", p_source_timezone_name="America/New_York", p_target_timezone_name = "America/Los_Angeles"
function convertToAnotherTimezoneLocalTime(p_source_time, p_source_timezone_name, p_target_timezone_name) {
    if (p_source_time == undefined || p_source_time == "") return "";
    if (p_target_timezone_name == undefined || p_target_timezone_name == "") return "";

    var temp_date = moment().format("YYYY-MM-DD");
    var temp_time_foramat = "YYYY-MM-DD HH:mm Z";
    var temp_source_local_time = moment.tz(temp_date + " " + p_source_time, p_source_timezone_name);
    var temp_target_local_time = temp_source_local_time.clone().tz(p_target_timezone_name).format(temp_time_foramat);
    var target_timezone_local_time = temp_target_local_time.split(" ")[1];
    
    return getAMPM(target_timezone_local_time);
}


